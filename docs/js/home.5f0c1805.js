"use strict";(self["webpackChunkrest_countries_api"]=self["webpackChunkrest_countries_api"]||[]).push([[177],{852:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home container"},[n("div",{staticClass:"filter-options"},[n("div",{staticClass:"search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Search for a country."},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),n("div",{staticClass:"search-icon"},[n("svg",{staticClass:"svg-inline--fa fa-search fa-w-16",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"search",role:"img",viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}})])])]),n("div",{staticClass:"region",attrs:{id:"region-menu"}},[n("div",{staticClass:"selection",on:{click:function(t){e.displayRegionsMenu=!e.displayRegionsMenu}}},[n("p",[e._v(" "+e._s("All"===e.regionSelected.name?"Filter by Region":e.regionSelected.name)+" ")]),n("div",{staticClass:"icon"},[n("svg",{staticClass:"svg-inline--fa fa-caret-down fa-w-10",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"caret-down",role:"img",viewBox:"0 0 320 512"}},[n("path",{attrs:{fill:"currentColor",d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"}})])])]),e.displayRegionsMenu?n("div",{directives:[{name:"closeMenuEvents",rawName:"v-closeMenuEvents",value:e.closeMenu,expression:"closeMenu"}],staticClass:"options"},[n("ul",e._l(e.regions,(function(t){return n("li",{key:t.value,on:{click:function(n){return e.selectRegion(t)}}},[e._v(" "+e._s(t.name)+" ")])})),0)]):e._e()])]),n("div",{staticClass:"countries"},[0===e.filteredCountries.length&&e.query.length>0?n("div",{staticClass:"no-found-message"},[n("h2",[e._v('No country was found that matches "'+e._s(e.query)+'"')])]):e._e(),n("div",{staticClass:"cards-container"},e._l(e.filteredCountries,(function(t){return n("div",{key:t.name,staticClass:"card"},[n("RouterLink",{attrs:{to:{name:"Country",params:{name:t.alpha3Code}}}},[n("div",{staticClass:"country-flag"},[n("img",{attrs:{src:t.flag,alt:t.name+" flag"}})]),n("div",{staticClass:"country-info"},[n("h2",{staticClass:"country-name"},[e._v(" "+e._s(e._f("limitCharacters")(t.name,35))+" ")]),n("p",[n("b",[e._v("Population: ")]),e._v(" "+e._s(e._f("commaSeparatedNumber")(t.population))+" ")]),n("p",[n("b",[e._v("Region: ")]),e._v(" "+e._s(t.region?t.region:" - ")+" ")]),n("p",[n("b",[e._v("Capital: ")]),e._v(" "+e._s(t.capital?t.capital:" - ")+" ")])])])],1)})),0)])])},s=[],a=n(629),r={mounted(){document.addEventListener("scroll",this.handleInfiniteScroll),document.title="Where in the world?"},name:"Home",data(){return{query:"",displayRegionsMenu:!1,countriesLimit:20,countriesPerPage:20,regionSelected:{name:"All",value:"All"},regions:[{name:"All",value:"All"},{name:"Africa",value:"Africa"},{name:"America",value:"Americas"},{name:"Asia",value:"Asia"},{name:"Europe",value:"Europe"},{name:"Oceania",value:"Oceania"}]}},computed:{...(0,a.rn)(["darkMode"]),filteredCountries(){const e=this.$store.getters.allCountries;let t=e.map((e=>e));return"All"!==this.regionSelected.value&&(t=t.filter((e=>e.region===this.regionSelected.value))),this.query.trim().length>0&&(t=t.filter((e=>e.name.toLowerCase().includes(this.query.trim().toLowerCase())))),t.slice(0,this.countriesLimit)}},methods:{closeMenu(){this.displayRegionsMenu=!1},selectRegion(e){this.regionSelected=e,this.displayRegionsMenu=!1},handleInfiniteScroll(){const{scrollTop:e,scrollHeight:t,clientHeight:n}=document.documentElement;e+n>=t&&(this.countriesLimit=this.countriesLimit+this.countriesPerPage)}},directives:{closeMenuEvents:{bind(e,t,n){e.closeMenuEvent=function(e){"keyup"!==e.type?e.target===document.querySelector("#region-menu")||document.querySelector("#region-menu").contains(e.target)||n.context[t.expression](e):"Escape"===e.key&&n.context[t.expression](e)},document.body.addEventListener("click",e.closeMenuEvent),document.body.addEventListener("keyup",e.closeMenuEvent)},unbind(e){document.body.removeEventListener("click",e.closeMenuEvent),document.body.removeEventListener("keyup",e.closeMenuEvent)}}}},o=r,l=n(736),c=(0,l.Z)(o,i,s,!1,null,"10394fb1",null),u=c.exports}}]);
//# sourceMappingURL=home.5f0c1805.js.map